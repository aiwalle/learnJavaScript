<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>DOM2-DOM3</title>
    <script type="text/javascript" src="EventUtil.js"></script>
  </head>
  <body>
    <div id="myDiv">Click me</div>
    <button onclick="btnclick">btn</button>
    <input type="text" id="myText" />
    <script type="text/javascript">
    // 客户区坐标位置
    var div = document.getElementById("myDiv");
    EventUtil.addHandler(div, "click", function(event) {
      event = EventUtil.getEvent(event);
      // 客户区坐标位置
      // alert("Client coordinates: " + event.clientX + "," + event.clientY);

      // // 页面坐标位置
      // alert("Page coordinates: " + event.pageX + "," + event.pageY);

      // // 屏幕坐标位置
      // alert("Screen coordinates: " + event.screenX + "," + event.screenY);

      // 修改键
      // var keys = new Array();
      // if (event.shiftKey) {
      //   keys.push("shift");
      // }
      // if (event.ctrlKey) {
      //   keys.push("ctrlKey");
      // }
      // if (event.altKey) {
      //   keys.push("altKey");
      // }
      // if (event.metaKey) {
      //   keys.push("metaKey");
      // }
      // alert("Keys: " + keys.join(","));
    });

    // 相关元素
    // EventUtil.addHandler(div, "mouseout", function(event) {
    //   event = EventUtil.getEvent(event);
    //   var target = EventUtil.getTarget(event);
    //   var realatedTarget = EventUtil.getRelatedTarget(event);
    //   alert("Moused out of " + target.tagName + " to " + realatedTarget.tagName);
    // });

    // 鼠标按钮
    // EventUtil.addHandler(div, "mousedown", function(event) {
    //   event = EventUtil.getEvent(event);
    //   alert(EventUtil.getButton(event));
    // })


    // 鼠标滚轮
    // EventUtil.addHandler(document, "mousewheel", function(event) {
    //   event = EventUtil.getEvent(event);
    //   alert(event.wheelDelta);
    // });
    //
    // // 字符编码
    // var textbox = document.getElementById("myText");
    // EventUtil.addHandler(textbox, "keypress", function(event) {
    //   event = EventUtil.getEvent(event);
    //   alert(EventUtil.getCharCode(event));
    // })

    // DOM3级变化(不用)
    // var textbox = document.getElementById("myText");
    // EventUtil.addHandler(textbox, "keypress", function(event) {
    //   event = EventUtil.getEvent(event);
    //   var identifier = event.key || event.keyIdentifier;
    //   if (identifier) {
    //     alert(identifier);
    //   }
    // })

    // textInput事件
    // var textbox = document.getElementById("myText");
    // EventUtil.addHandler(textbox, "textInput", function(event) {
    //   event = EventUtil.getEvent(event);
    //   alert(event.data);
    // })

    // 复合事件
    var textbox = document.getElementById("myText");
    EventUtil.addHandler(textbox, "compositionstart", function(event) {
      event = EventUtil.getEvent(event);
      alert(event.data);
    });

    EventUtil.addHandler(textbox, "compositionupdate", function(event) {
      event = EventUtil.getEvent(event);
      alert(event.data);
    });

    EventUtil.addHandler(textbox, "compositionend", function(event) {
      event = EventUtil.getEvent(event);
      alert(event.data);
    })


    </script>
  </body>

</html>
